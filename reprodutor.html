<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layout</title>
    <script src="https://kit.fontawesome.com/34892d167b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="reprodutor.css" type="text/css">
</head>
<body>
     <div class="container">
        <div class="play-musica">
            <nav>
                <div class="circulo">
                    <i class="fa-solid fa-angle-left"></i>
                </div>
            </nav>
            <img src="eu.jpeg" alt="" class="img-musica">
            <h1>Meu Pedaço de Pecado</h1>
            <p>João Gomes</p>

            <audio controls id="musica">
                <source src="msc/01-meu-pedaco-de-pecado-joao-gomes-492565.mp3" type="audio/mpeg">
            </audio>
            <input type="range" value="0" id="progresso">

            <div class="controls">
                <div><i class="fa-solid fa-backward"></i></div>
                <div onclick="playPause()"><i class="fa-solid fa-play" id="icone"></i></div>
                <div><i class="fa-solid fa-forward"></i></div>
            </div>
        </div>
     </div>

     <script>

        let progresso = document.getElementById('progresso');
        let musica = document.getElementById('musica');
        let icone = document.getElementById('icone');

        musica.onloadeddata = function(){
            progresso.max = musica.duration;
            progresso.value = musica.currentTime;
        }

        function playPause(){
            if(icone.classList.contains('fa-pause')){
                musica.pause();
                icone.classList.remove('fa-pause')
                icone.classList.add('fa-play')
            }
            else{
                musica.play();
                icone.classList.add('fa-pause')
                icone.classList.remove('fa-play')
            }
        }

        if (musica.play()){
            setInterval(()=>{
                progresso.value = musica.currentTime;
            },250);      
        }

        progresso.onchange = function(){
            musica.play();
            musica.currentTime = progresso.value;
            icone.classList.add('fa-pause')
            icone.classList.remove('fa-play')

        }

     </script>
</body>
</html>